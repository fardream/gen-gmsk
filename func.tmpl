// Automatically generated by github.com/fardream/gen-gmsk
// {{.Desc}}

package {{.PackageName}}

// #include <stdlib.h> // for C.free
// #include <mosek.h>
import "C"

import (
{{if .ExtraStdPkgs}}{{range .ExtraStdPkgs}}	"{{.}}"
{{end}}
{{end}}	"github.com/fardream/gmsk/res"
)

{{range .Funcs}}
// {{.GoName}} is wrapping [{{.CName}}]{{if .SplitComments}} and
{{range .SplitComments}}// {{.}}
{{end}}//{{else}}
//{{end}}
{{with .CFunc}}// [{{.Name}}] returns {{.ReturnType}} and has following parameters
{{range .Parameters}}//   - {{.Name}}: {{.Type}}
{{end}}{{end}}//
{{- if .IsDeprecated}}
// Deprecated: [{{.CName}}]/{{.GoName}} is deprecated by mosek and will be removed in a future release.
//
{{- end}}
// [{{.CName}}]: {{.Url}}
func {{if .IsTask}}(task *Task) {{else if .IsEnv}}(env *Env) {{end}}{{.GoName}}(
{{range .GoParams}}	{{.}},
{{end}}) {{.ReturnType}} {
{{if .OutputBools}}{{range .OutputBools -}}
	c_{{.}} := C.MSKbooleant(0)
{{end}}
{{end}}{{if .OutputStrings}}{{range .OutputStrings -}}
	c_{{.}} := (*C.char)(C.calloc(MAX_STR_LEN + 1, 1))
	defer C.free(unsafe.Pointer(c_{{.}}))
{{end}}
{{end}}{{if .InputStrings}}{{range .InputStrings}}
	c_{{.Name}} := C.CString({{.Name}})
	defer C.free(unsafe.Pointer(c_{{.Name}}))
{{end}}
{{end}}	{{if .LastNParamOutput}}{{.ReturnValueName}} = {{else}}return {{end}}{{.CReturnMapped}}(
		C.{{.CName}}(
{{range .CCallInputs}}        {{.}},
{{end}}		),
    )
{{if .OutputBools}}
	if {{.ReturnValueName}}.IsOk() { {{- range .OutputBools}}
		{{.}} = intToBool(c_{{.}})
{{- end}}
}{{end}}{{if .OutputStrings}}
	if {{.ReturnValueName}}.IsOk() { {{- range .OutputStrings}}
		{{.}} = C.GoString(c_{{.}})
{{- end}}
	}
{{- end}}
{{if .LastNParamOutput}}
	return
{{end -}}}
{{end -}}
